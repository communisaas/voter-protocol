[package]
name = "voter-protocol-circuits"
version = "0.1.0"
edition = "2021"
authors = ["VOTER Protocol"]
description = "Zero-knowledge circuits for district membership verification"
license = "MIT"

[dependencies]
# Halo2 proving system (Privacy & Scaling Explorations fork - most actively maintained)
halo2_proofs = { git = "https://github.com/privacy-scaling-explorations/halo2", package = "halo2_proofs" }
halo2curves = { git = "https://github.com/privacy-scaling-explorations/halo2curves" }

# Poseidon hash (PSE fork compatible with their halo2)
poseidon = { git = "https://github.com/privacy-scaling-explorations/poseidon", package = "poseidon" }

# Poseidon Halo2 circuit gadget (PSE) - separate repository
halo2_poseidon = { git = "https://github.com/privacy-scaling-explorations/poseidon-gadget", package = "halo2_poseidon" }

# Finite field arithmetic
ff = "0.13"
group = "0.13"

# Utilities
rand = "0.8"
hex = "0.4"
serde = { version = "1.0", features = ["derive"] }

# WASM support
wasm-bindgen = "0.2"
serde-wasm-bindgen = "0.6"
getrandom = { version = "0.2", features = ["js"] }
console_error_panic_hook = "0.1"

[dev-dependencies]
# Testing and benchmarking
criterion = "0.5"
proptest = "1.0"

[lib]
crate-type = ["cdylib", "rlib"]

[profile.release]
opt-level = 3
lto = true
codegen-units = 1

# WASM-specific optimizations
[profile.release.package."*"]
opt-level = 3

# Benchmarks will be added once circuit is complete
# [[bench]]
# name = "district_proof"
# harness = false
